(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(35),i=n.n(a),u=n(2),r=n(36),o=n.n(r),l=(n(72),n(73),n(0)),j=function(){return Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("h2",{children:"Simple chat app"})})},d=n(19),b=(n(75),function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),s=n[0],a=n[1];function i(t){var n;return t===(null===(n=e.socket)||void 0===n?void 0:n.id)?{marginLeft:"auto"}:{marginRight:"auto"}}return Object(c.useEffect)((function(){var t;null===(t=e.socket)||void 0===t||t.on("nuevoMensaje",(function(e){a((function(t){return[].concat(Object(d.a)(t),[e])})),document.getElementsByClassName("textZone")[0].scrollTop=document.getElementsByClassName("textZone")[0].scrollHeight}))}),[e.socket]),Object(c.useEffect)((function(){e.nuevoMensaje&&a((function(t){return[].concat(Object(d.a)(t),[e.nuevoMensaje])}))}),[e.nuevoMensaje]),Object(c.useEffect)((function(){document.getElementsByClassName("textZone")[0].scrollTop=document.getElementsByClassName("textZone")[0].scrollHeight}),[s]),Object(l.jsx)("div",{className:"textZone",children:Object(l.jsx)("ul",{id:"lista",children:s.map((function(e,t){var n=new Date(e.timeStamp),c=n.getHours(),s=n.getMinutes();parseInt(s)<10&&(s="0"+s.toString()),parseInt(c)<10&&(c="0"+c.toString());var a=c+":"+s;return Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"mensaje",style:i(e.user_id),children:[Object(l.jsx)("p",{className:"mensajePrincipal",children:e.mensaje}),Object(l.jsx)("p",{className:"timestamp",children:e.usuario+" "+a})]})},t)}))})})});n(76);function m(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],a=n[1],i=Object(c.useRef)(),r=Object(c.useRef)();return Object(l.jsx)("div",{className:"inputZone",children:Object(l.jsxs)("form",{onSubmit:function(t){var n,c;t.preventDefault(),""!==s&&(e.socket.emit("nuevoMensaje",{mensaje:s,usuario:e.user.username,user_id:null===(n=e.socket)||void 0===n?void 0:n.id,timeStamp:Date.now()}),e.nuevoMensaje({mensaje:s,usuario:e.user.username,user_id:null===(c=e.socket)||void 0===c?void 0:c.id,timeStamp:Date.now()}),r.current.value="",a(""))},children:[Object(l.jsx)("input",{id:"usermsg",name:"usermsg",type:"text",onChange:function(e){a(e.target.value)},autoFocus:!0,ref:r,autoComplete:"off"}),Object(l.jsx)("input",{type:"submit",value:"Send",ref:i})]})})}var f=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],a=n[1];return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)(j,{}),Object(l.jsx)(b,{socket:e.socket,nuevoMensaje:s}),Object(l.jsx)(m,{socket:e.socket,user:e.user,nuevoMensaje:function(e){a(e)}})]})};n(77);function O(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)("none"),r=Object(u.a)(i,2),o=r[0],j=r[1],d=Object(c.useState)(""),b=Object(u.a)(d,2),m=b[0],f=b[1];return Object(c.useEffect)((function(){m&&j("flex")}),[m]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===s?f("Complete el campo para continuar"):s.length>10||s.length<2?f("El nombre de usuario debe contener entre 2 y 10 caracteres"):s.includes("<")||s.includes(">")||s.includes("{")||s.includes("}")||s.includes("[")||s.includes("]")?f("El nombre de usuario no debe contener carateres especiales"):e.getUser(s)},children:[Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"20vh",justifyContent:"center"},children:[Object(l.jsx)("label",{style:{marginBottom:"4vh"},children:"Ingrese su nombre de usuario:"}),Object(l.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},autoFocus:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{style:{color:"gray",fontSize:"1vh",textAlign:"center",width:"17vh",marginTop:"1vh"},children:"El nombre de usuario tienen que ser letras y una cantidad de 4 a 8."})]}),Object(l.jsx)("input",{type:"submit",value:"Enviar"})]})}),Object(l.jsxs)("div",{className:"errorDiv",style:{display:o},children:[Object(l.jsx)("label",{style:{display:o},children:m}),Object(l.jsx)("button",{onClick:function(){j("none"),f("")}})]})]})}n(78);var v=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),i=Object(u.a)(a,2),r=i[0],j=i[1];return Object(c.useEffect)((function(){var e=o()("https://chat-room-app-weld.vercel.app/");j(e)}),[]),Object(c.useEffect)((function(){n&&r.emit("usuarioEstablecido",{usuario:n.username,user_id:r.id})}),[n]),Object(l.jsx)(l.Fragment,{children:n?Object(l.jsx)(f,{socket:r,user:n}):Object(l.jsx)(O,{getUser:function(e){s({username:e})}})})};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.6a81e584.chunk.js.map