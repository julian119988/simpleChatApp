(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(35),i=n.n(a),u=n(2),r=n(36),o=n.n(r),l=(n(72),n(73),n(0)),j=function(){return Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("h2",{children:"Zambroni's chat app"})})},b=n(19),d=(n(75),function(e){var t=Object(s.useState)([]),n=Object(u.a)(t,2),c=n[0],a=n[1];function i(t){var n;return t===(null===(n=e.socket)||void 0===n?void 0:n.id)?{marginLeft:"auto"}:{marginRight:"auto"}}return Object(s.useEffect)((function(){var t;null===(t=e.socket)||void 0===t||t.on("nuevoMensaje",(function(e){a((function(t){return[].concat(Object(b.a)(t),[e])})),document.getElementsByClassName("textZone")[0].scrollTop=document.getElementsByClassName("textZone")[0].scrollHeight}))}),[e.socket]),Object(s.useEffect)((function(){e.nuevoMensaje&&a((function(t){return[].concat(Object(b.a)(t),[e.nuevoMensaje])}))}),[e.nuevoMensaje]),Object(s.useEffect)((function(){document.getElementsByClassName("textZone")[0].scrollTop=document.getElementsByClassName("textZone")[0].scrollHeight}),[c]),Object(l.jsx)("div",{className:"textZone",children:Object(l.jsx)("ul",{id:"lista",children:c.map((function(e,t){var n=new Date(e.timeStamp),s=n.getHours(),c=n.getMinutes();parseInt(c)<10&&(c="0"+c.toString()),parseInt(s)<10&&(s="0"+s.toString());var a=s+":"+c;return Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"mensaje",style:i(e.user_id),children:[Object(l.jsx)("p",{className:"mensajePrincipal",children:e.mensaje}),Object(l.jsx)("p",{className:"timestamp",children:e.usuario+" "+a})]})},t)}))})})});n(76);function m(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(s.useRef)(),r=Object(s.useRef)();return Object(l.jsx)("div",{className:"inputZone",children:Object(l.jsxs)("form",{onSubmit:function(t){var n,s;t.preventDefault(),""!==c&&(e.socket.emit("nuevoMensaje",{mensaje:c,usuario:e.user.username,user_id:null===(n=e.socket)||void 0===n?void 0:n.id,timeStamp:Date.now()}),e.nuevoMensaje({mensaje:c,usuario:e.user.username,user_id:null===(s=e.socket)||void 0===s?void 0:s.id,timeStamp:Date.now()}),r.current.value="",a(""))},children:[Object(l.jsx)("input",{id:"usermsg",name:"usermsg",type:"text",onChange:function(e){a(e.target.value)},autoFocus:!0,ref:r,autoComplete:"off"}),Object(l.jsx)("input",{type:"submit",value:"Send",ref:i})]})})}var f=function(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)(j,{}),Object(l.jsx)(d,{socket:e.socket,nuevoMensaje:c}),Object(l.jsx)(m,{socket:e.socket,user:e.user,nuevoMensaje:function(e){a(e)}})]})};n(77);function O(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)("none"),r=Object(u.a)(i,2),o=r[0],j=r[1],b=Object(s.useState)(""),d=Object(u.a)(b,2),m=d[0],f=d[1];return Object(s.useEffect)((function(){m&&j("flex")}),[m]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===c?f("Complete el campo para continuar"):c.length>10||c.length<2?f("El nombre de usuario debe contener entre 2 y 10 caracteres"):c.includes("<")||c.includes(">")||c.includes("{")||c.includes("}")||c.includes("[")||c.includes("]")?f("El nombre de usuario no debe contener carateres especiales"):e.getUser(c)},children:[Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"20vh",justifyContent:"center"},children:[Object(l.jsx)("label",{style:{marginBottom:"4vh"},children:"Ingrese su nombre de usuario:"}),Object(l.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},autoFocus:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{style:{color:"gray",fontSize:"1vh",textAlign:"center",width:"17vh",marginTop:"1vh"},children:"El nombre de usuario tienen que ser letras y una cantidad de 4 a 8."})]}),Object(l.jsx)("input",{type:"submit",value:"Enviar"})]})}),Object(l.jsxs)("div",{className:"errorDiv",style:{display:o},children:[Object(l.jsx)("label",{style:{display:o},children:m}),Object(l.jsx)("button",{onClick:function(){j("none"),f("")}})]})]})}n(78);var v=function(){var e=Object(s.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(),i=Object(u.a)(a,2),r=i[0],j=i[1];return Object(s.useEffect)((function(){var e=o()("http://192.168.1.20:8080/");j(e)}),[]),Object(s.useEffect)((function(){n&&r.emit("usuarioEstablecido",{usuario:n.username,user_id:r.id})}),[n]),Object(l.jsx)(l.Fragment,{children:n?Object(l.jsx)(f,{socket:r,user:n}):Object(l.jsx)(O,{getUser:function(e){c({username:e})}})})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.e541d923.chunk.js.map